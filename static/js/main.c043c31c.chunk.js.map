{"version":3,"sources":["components/Dashboard/TransactionHistory/TransactionHistory.module.css","components/Dashboard/Dashboard.module.css","components/Dashboard/Controls/Controls.module.css","components/Dashboard/Controls/Controls.jsx","components/Dashboard/Balance/Balance.jsx","components/Dashboard/TransactionHistory/TransactionHistory.jsx","components/Dashboard/Dashboard.jsx","components/App/App.jsx","index.js","components/Dashboard/Balance/Balance.module.css"],"names":["module","exports","toast","configure","Controls","state","input","handleChange","e","setState","target","value","handleClick","props","handleTransaction","balance","amount","Number","date","Date","toLocaleString","transaction","id","shortid","generate","type","name","reset","this","className","styles","controls","onChange","controls__input","onClick","controls__button","Component","Balance","transactions","handleTotalAmount","filter","reduce","acc","role","aria-label","balance__text","TransactionHistory","history","transaction__head","transaction__item","map","key","Dashboard","prevState","dashboard","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c043c31c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"history\":\"TransactionHistory_history__3bK5A\",\"transaction__head\":\"TransactionHistory_transaction__head__1cAK1\",\"transaction__item\":\"TransactionHistory_transaction__item__3swd2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dashboard\":\"Dashboard_dashboard__1Nu6W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__3_Lyu\",\"controls__input\":\"Controls_controls__input__Br0L3\",\"controls__button\":\"Controls_controls__button__1WUDz\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport shortid from 'shortid';\nimport { toast } from 'react-toastify';\nimport styles from './Controls.module.css';\nimport 'react-toastify/dist/ReactToastify.css';\n\ntoast.configure();\n\nclass Controls extends Component {\n  state = {\n    input: '',\n  };\n\n  handleChange = e => {\n    this.setState({\n      input: e.target.value,\n    });\n  };\n\n  handleClick = e => {\n    const { handleTransaction, balance } = this.props;\n    const { input } = this.state;\n\n    const amount = Number(input);\n    const date = new Date().toLocaleString();\n\n    const transaction = {\n      id: shortid.generate(),\n      type: e.target.name,\n      amount,\n      date,\n    };\n\n    if (input === '0' || input === '' || Number(input) <= 0) {\n      toast('Введите сумму для проведения операции!');\n      this.reset();\n      return;\n    }\n\n    if (input > balance && transaction.type === 'withdrawal') {\n      toast('На счету недостаточно средств для проведения операции!');\n      this.reset();\n      return;\n    }\n\n    handleTransaction(transaction);\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ input: '' });\n  };\n\n  render() {\n    const { input } = this.state;\n    return (\n      <section className={styles.controls}>\n        <input\n          type=\"number\"\n          name=\"balance\"\n          value={input}\n          onChange={this.handleChange}\n          className={styles.controls__input}\n        />\n        <button\n          type=\"button\"\n          name=\"deposit\"\n          onClick={this.handleClick}\n          className={styles.controls__button}\n        >\n          Deposit\n        </button>\n        <button\n          type=\"button\"\n          name=\"withdrawal\"\n          onClick={this.handleClick}\n          className={styles.controls__button}\n        >\n          Withdraw\n        </button>\n      </section>\n    );\n  }\n}\n\nControls.propTypes = {\n  handleTransaction: PropTypes.func.isRequired,\n  balance: PropTypes.number.isRequired,\n};\n\nexport default Controls;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Balance.module.css';\n\nconst Balance = ({ transactions, balance }) => {\n  const handleTotalAmount = type => {\n    const amount = transactions\n      .filter(transaction => transaction.type === type)\n      .reduce((acc, transaction) => {\n        return Number(transaction.amount) + Number(acc);\n      }, 0);\n\n    return amount;\n  };\n\n  return (\n    <section className={styles.balance}>\n      <span role=\"img\" aria-label=\"deposit\" className={styles.balance__text}>\n        ⬆️{handleTotalAmount('deposit')}$\n      </span>\n      <span role=\"img\" aria-label=\"withdrawal\" className={styles.balance__text}>\n        ⬇️{handleTotalAmount('withdrawal')}$\n      </span>\n      <span className={styles.balance__text}>Balance: {balance}$</span>\n    </section>\n  );\n};\n\nBalance.propTypes = {\n  transactions: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      type: PropTypes.string.isRequired,\n      amount: PropTypes.number.isRequired,\n      date: PropTypes.string.isRequired,\n    }).isRequired,\n  ).isRequired,\n  balance: PropTypes.number.isRequired,\n};\n\nexport default Balance;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './TransactionHistory.module.css';\n\nconst TransactionHistory = ({ transactions = [] }) => {\n  return (\n    <table className={styles.history}>\n      <thead className={styles.transaction__head}>\n        <tr>\n          <th>Transaction</th>\n          <th>Amount</th>\n          <th>Date</th>\n        </tr>\n      </thead>\n      <tbody className={styles.transaction__item}>\n        {transactions.map(transaction => (\n          <tr key={transaction.id}>\n            <td>{transaction.type}</td>\n            <td>{transaction.amount}</td>\n            <td>{transaction.date}</td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n};\n\nTransactionHistory.propTypes = {\n  transactions: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      type: PropTypes.string.isRequired,\n      amount: PropTypes.number.isRequired,\n      date: PropTypes.string.isRequired,\n    }).isRequired,\n  ).isRequired,\n};\n\nexport default TransactionHistory;\n","import React, { Component } from 'react';\nimport styles from './Dashboard.module.css';\nimport Controls from './Controls/Controls';\nimport Balance from './Balance/Balance';\nimport TransactionHistory from './TransactionHistory/TransactionHistory';\n\nclass Dashboard extends Component {\n  state = {\n    transactions: [],\n    balance: 0,\n  };\n\n  handleTransaction = transaction => {\n    this.setState(prevState => {\n      return {\n        transactions: [...prevState.transactions, transaction],\n        balance:\n          transaction.type === 'withdrawal'\n            ? prevState.balance - transaction.amount\n            : prevState.balance + transaction.amount,\n      };\n    });\n  };\n\n  render() {\n    const { transactions, balance } = this.state;\n    return (\n      <div className={styles.dashboard}>\n        <Controls\n          handleTransaction={this.handleTransaction}\n          balance={balance}\n        />\n        <Balance transactions={transactions} balance={balance} />\n        <TransactionHistory transactions={transactions} />\n      </div>\n    );\n  }\n}\n\nexport default Dashboard;\n","import React from 'react';\nimport Dashboard from '../Dashboard/Dashboard';\n\nconst App = () => (\n  <div>\n    <Dashboard />\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"balance\":\"Balance_balance__JrObE\",\"balance__text\":\"Balance_balance__text__34IZn\"};"],"sourceRoot":""}